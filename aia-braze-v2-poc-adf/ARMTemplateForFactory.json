{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "aia-braze-v2-poc-adf"
		},
		"AzureFileSystemPackageStore_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AzureFileSystemPackageStore'"
		},
		"AzureFileSystemSSISLogs_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AzureFileSystemSSISLogs'"
		},
		"FileSystemPackageStore_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'FileSystemPackageStore'"
		},
		"Synapse_AzureBlobStorage_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Synapse_AzureBlobStorage'"
		},
		"AzureKeyVault_properties_typeProperties_baseUrl": {
			"type": "string",
			"defaultValue": "https://aia-braze-v2-poc-akv.vault.azure.net/"
		},
		"Currents_SQLServer_properties_typeProperties_connectionString_secretName": {
			"type": "string",
			"defaultValue": "sqlServer-connString"
		},
		"Currents_Synapse_properties_typeProperties_connectionString_secretName": {
			"type": "string",
			"defaultValue": "synapse-connString"
		},
		"FileSystemPackageStore_properties_typeProperties_host": {
			"type": "string",
			"defaultValue": "\\\\aiasqlinsightsstorage.file.core.windows.net\\ssispackagestore"
		},
		"FileSystemPackageStore_properties_typeProperties_userId": {
			"type": "string",
			"defaultValue": "Azure\\aiasqlinsightsstorage"
		},
		"adfmetadata_properties_typeProperties_connectionString_secretName": {
			"type": "string",
			"defaultValue": "adfmetadata-connString"
		},
		"SSISAzureIntegrationRuntime_properties_typeProperties_ssisProperties_catalogInfo_catalogServerEndpoint": {
			"type": "string",
			"defaultValue": "aiasqlmisvr01.a1e189469806.database.windows.net"
		},
		"SSISAzureIntegrationRuntime_properties_typeProperties_ssisProperties_catalogInfo_catalogAdminUserName": {
			"type": "string",
			"defaultValue": "boor"
		},
		"SSISAzureIntegrationRuntime_properties_typeProperties_ssisProperties_catalogInfo_catalogAdminPassword": {
			"type": "secureString"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/1-DataLake_2_SQLMI_via_SSISDB')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Execute SSIS package - SSISDB",
						"description": "Data Lake to SQL MI",
						"type": "ExecuteSSISPackage",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"packageLocation": {
								"packagePath": "LoadFromDataLake/Azure-LoadingFilesFromDataLake01/Package.dtsx",
								"type": "SSISDB"
							},
							"environmentPath": null,
							"connectVia": {
								"referenceName": "SSISAzureIntegrationRuntime",
								"type": "IntegrationRuntimeReference"
							},
							"loggingLevel": "Basic",
							"projectConnectionManagers": {},
							"packageConnectionManagers": {}
						}
					}
				],
				"folder": {
					"name": "SSIS-Demo"
				},
				"annotations": [],
				"lastPublishTime": "2021-03-29T12:31:42Z"
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/integrationRuntimes/SSISAzureIntegrationRuntime')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/1_Autoloader_End_To_End')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Run Autoloader To Synapse",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "1_Trigger_Autoloader_To_Synapse",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Run Synapse To SQL Server",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Run Autoloader To Synapse",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "2_Copy_Incremental_Synapse_To_SQL",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					}
				],
				"folder": {
					"name": "Braze-Autoloader/0_Root"
				},
				"annotations": [],
				"lastPublishTime": "2021-03-28T20:04:14Z"
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/pipelines/1_Trigger_Autoloader_To_Synapse')]",
				"[concat(variables('factoryId'), '/pipelines/2_Copy_Incremental_Synapse_To_SQL')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/1_Trigger_Autoloader_To_Synapse')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Get table names",
						"description": "We replace the '_' with '.' right in the SQL query to align with Databricks.",
						"type": "Lookup",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"sqlReaderQuery": {
									"value": "SELECT REPLACE(TableName, '_', '.') AS TableName FROM [dbo].[watermarktable]",
									"type": "Expression"
								},
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "watermarktable",
								"type": "DatasetReference",
								"parameters": {}
							},
							"firstRowOnly": false
						}
					},
					{
						"name": "Run Autoloader - per table",
						"type": "ForEach",
						"dependsOn": [
							{
								"activity": "Get table names",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"items": {
								"value": "@activity('Get table names').output.value",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Braze Autoloader - per table",
									"type": "DatabricksNotebook",
									"dependsOn": [],
									"policy": {
										"timeout": "7.00:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"notebookPath": "/braze-autoloader-poc/1.Landing-To-Bronze/1.autoloader-from-currents-landing",
										"baseParameters": {
											"table": {
												"value": "@item().TableName",
												"type": "Expression"
											}
										}
									},
									"linkedServiceName": {
										"referenceName": "AzureDatabricks",
										"type": "LinkedServiceReference"
									}
								}
							]
						}
					}
				],
				"folder": {
					"name": "Braze-Autoloader/1_Supporting"
				},
				"annotations": [],
				"lastPublishTime": "2021-03-28T20:04:13Z"
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/datasets/watermarktable')]",
				"[concat(variables('factoryId'), '/linkedServices/AzureDatabricks')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/2-DataLake_2_SQLMI_via_FileSystem')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Execute SSIS package - FileSystem",
						"type": "ExecuteSSISPackage",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"packageLocation": {
								"type": "PackageStore",
								"packagePath": "myFileSystemPackageStore/Azure-LoadingFilesFromDataLake01\\Package",
								"typeProperties": {}
							},
							"connectVia": {
								"referenceName": "SSISAzureIntegrationRuntime",
								"type": "IntegrationRuntimeReference"
							},
							"projectConnectionManagers": {},
							"packageConnectionManagers": {
								"DataLake": {
									"AccountKey": {
										"value": {
											"type": "AzureKeyVaultSecret",
											"store": {
												"referenceName": "AzureKeyVault",
												"type": "LinkedServiceReference"
											},
											"secretName": "SSIS-DataLake-AccountKey"
										}
									},
									"AccountName": {
										"value": "aiasqlinsightsstorage"
									},
									"AuthType": {
										"value": "1"
									},
									"ConnectByProxy": {
										"value": "False"
									},
									"ConnectUsingManagedIdentity": {
										"value": "False"
									},
									"ConnectionString": {
										"value": "ServiceType=AzureBlobFS;AccountName=aiasqlinsightsstorage;DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;"
									},
									"EndpointSuffix": {
										"value": "core.windows.net"
									},
									"SasToken": {
										"value": {
											"type": "SecureString",
											"value": "**********"
										}
									},
									"ServicePrincipalKey": {
										"value": {
											"type": "SecureString",
											"value": "**********"
										}
									},
									"ServiceType": {
										"value": "2"
									},
									"TargetServerVersion": {
										"value": "140"
									},
									"UseHttps": {
										"value": "True"
									}
								},
								"currents_ODBC": {
									"ConnectByProxy": {
										"value": "False"
									},
									"ConnectUsingManagedIdentity": {
										"value": "False"
									},
									"ConnectionString": {
										"value": "Data Source=aiasqlmisvr01.a1e189469806.database.windows.net;User ID=boor;Initial Catalog=currents;Provider=SQLNCLI11.1;Persist Security Info=True;Auto Translate=False;"
									},
									"InitialCatalog": {
										"value": "currents"
									},
									"Password": {
										"value": {
											"type": "AzureKeyVaultSecret",
											"store": {
												"referenceName": "AzureKeyVault",
												"type": "LinkedServiceReference"
											},
											"secretName": "SSIS-currents-Password"
										}
									},
									"RetainSameConnection": {
										"value": "False"
									},
									"ServerName": {
										"value": "aiasqlmisvr01.a1e189469806.database.windows.net"
									},
									"UserName": {
										"value": "boor"
									}
								},
								"currents_OLEDB": {
									"ConnectByProxy": {
										"value": "False"
									},
									"ConnectUsingManagedIdentity": {
										"value": "False"
									},
									"ConnectionString": {
										"value": "Data Source=aiasqlmisvr01.a1e189469806.database.windows.net;User ID=boor;Initial Catalog=currents;Provider=SQLNCLI11.1;Persist Security Info=True;Auto Translate=False;"
									},
									"InitialCatalog": {
										"value": "currents"
									},
									"Password": {
										"value": {
											"type": "AzureKeyVaultSecret",
											"store": {
												"referenceName": "AzureKeyVault",
												"type": "LinkedServiceReference"
											},
											"secretName": "SSIS-currents-Password"
										}
									},
									"RetainSameConnection": {
										"value": "False"
									},
									"ServerName": {
										"value": "aiasqlmisvr01.a1e189469806.database.windows.net"
									},
									"UserName": {
										"value": "boor"
									}
								}
							}
						}
					}
				],
				"folder": {
					"name": "SSIS-Demo"
				},
				"annotations": []
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/integrationRuntimes/SSISAzureIntegrationRuntime')]",
				"[concat(variables('factoryId'), '/linkedServices/AzureKeyVault')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/2_Copy_Incremental_Synapse_To_SQL')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Get last load watermark - all tables",
						"type": "Lookup",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "watermarktable",
								"type": "DatasetReference",
								"parameters": {}
							},
							"firstRowOnly": false
						}
					},
					{
						"name": "Copy incremental data - per table",
						"type": "ForEach",
						"dependsOn": [
							{
								"activity": "Get last load watermark - all tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"items": {
								"value": "@activity('Get last load watermark - all tables').output.value",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "Copy incremental data from Synapse to SQL Server",
									"description": "We will get data > the last load watermark, but <= the max latest watermark (in case there are loads being done as we speak - those will also come in). Specifying this last range allows us to be more precise.",
									"type": "Copy",
									"dependsOn": [
										{
											"activity": "Get latest watermark",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "7.00:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "SqlDWSource",
											"sqlReaderQuery": {
												"value": "SELECT * FROM @{item().Tablename} WHERE time_inserted > '@{item().WatermarkValue}' and time_inserted <= '@{activity('Get latest watermark').output.firstRow.NewWatermarkvalue}'",
												"type": "Expression"
											},
											"queryTimeout": "02:00:00",
											"partitionOption": "None"
										},
										"sink": {
											"type": "SqlServerSink"
										},
										"enableStaging": true,
										"stagingSettings": {
											"linkedServiceName": {
												"referenceName": "Synapse_AzureBlobStorage",
												"type": "LinkedServiceReference"
											},
											"path": "adf-staging"
										},
										"translator": {
											"type": "TabularTranslator",
											"typeConversion": true,
											"typeConversionSettings": {
												"allowDataTruncation": true,
												"treatBooleanAsNumber": false
											}
										}
									},
									"inputs": [
										{
											"referenceName": "Currents_Synapse_Tables",
											"type": "DatasetReference",
											"parameters": {
												"table": {
													"value": "@item().TableName",
													"type": "Expression"
												}
											}
										}
									],
									"outputs": [
										{
											"referenceName": "Currents_SQLServer_Tables",
											"type": "DatasetReference",
											"parameters": {
												"table": {
													"value": "@item().TableName",
													"type": "Expression"
												}
											}
										}
									]
								},
								{
									"name": "Update Watermark",
									"type": "SqlServerStoredProcedure",
									"dependsOn": [
										{
											"activity": "Copy incremental data from Synapse to SQL Server",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"timeout": "7.00:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"storedProcedureName": "[[dbo].[usp_write_watermark]",
										"storedProcedureParameters": {
											"LastModifiedtime": {
												"value": {
													"value": "@activity('Get latest watermark').output.firstRow.NewWatermarkvalue",
													"type": "Expression"
												},
												"type": "String"
											},
											"TableName": {
												"value": {
													"value": "@item().TableName",
													"type": "Expression"
												},
												"type": "String"
											}
										}
									},
									"linkedServiceName": {
										"referenceName": "adfmetadata",
										"type": "LinkedServiceReference"
									}
								},
								{
									"name": "Get latest watermark",
									"type": "Lookup",
									"dependsOn": [],
									"policy": {
										"timeout": "7.00:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"source": {
											"type": "SqlDWSource",
											"sqlReaderQuery": {
												"value": "select MAX(time_inserted) as NewWatermarkvalue from @{item().TableName}",
												"type": "Expression"
											},
											"queryTimeout": "02:00:00",
											"partitionOption": "None"
										},
										"dataset": {
											"referenceName": "Currents_Synapse_Tables",
											"type": "DatasetReference",
											"parameters": {
												"table": {
													"value": "@item().TableName",
													"type": "Expression"
												}
											}
										}
									}
								}
							]
						}
					}
				],
				"folder": {
					"name": "Braze-Autoloader/1_Supporting"
				},
				"annotations": [],
				"lastPublishTime": "2021-03-28T20:04:13Z"
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/datasets/watermarktable')]",
				"[concat(variables('factoryId'), '/datasets/Currents_Synapse_Tables')]",
				"[concat(variables('factoryId'), '/datasets/Currents_SQLServer_Tables')]",
				"[concat(variables('factoryId'), '/linkedServices/adfmetadata')]",
				"[concat(variables('factoryId'), '/linkedServices/Synapse_AzureBlobStorage')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/3-DataLake_2_SQLMI_via_EmbeddedPackage')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Execute SSIS package - Embedded Package",
						"type": "ExecuteSSISPackage",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"packageLocation": {
								"type": "InlinePackage",
								"typeProperties": {
									"packageName": "Package.dtsx",
									"packageContent": "VER001_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",
									"packageLastModifiedDate": "2021-03-30T08:45:16.014Z UTC-4:00"
								}
							},
							"connectVia": {
								"referenceName": "SSISAzureIntegrationRuntime",
								"type": "IntegrationRuntimeReference"
							},
							"projectConnectionManagers": {},
							"packageConnectionManagers": {
								"DataLake": {
									"AccountKey": {
										"value": {
											"type": "SecureString",
											"value": "bull"
										}
									},
									"AccountName": {
										"value": "aiasqlinsightsstorage"
									},
									"AuthType": {
										"value": "1"
									},
									"ConnectByProxy": {
										"value": "False"
									},
									"ConnectUsingManagedIdentity": {
										"value": "False"
									},
									"ConnectionString": {
										"value": "ServiceType=AzureBlobFS;AccountName=aiasqlinsightsstorage;DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;"
									},
									"EndpointSuffix": {
										"value": "core.windows.net"
									},
									"SasToken": {
										"value": {
											"type": "SecureString",
											"value": "**********"
										}
									},
									"ServicePrincipalKey": {
										"value": {
											"type": "SecureString",
											"value": "**********"
										}
									},
									"ServiceType": {
										"value": "2"
									},
									"TargetServerVersion": {
										"value": "140"
									},
									"UseHttps": {
										"value": "True"
									}
								},
								"currents_ODBC": {
									"ConnectByProxy": {
										"value": "False"
									},
									"ConnectUsingManagedIdentity": {
										"value": "False"
									},
									"ConnectionString": {
										"value": "Data Source=aiasqlmisvr01.a1e189469806.database.windows.net;User ID=boor;Initial Catalog=currents;Provider=SQLNCLI11.1;Persist Security Info=True;Auto Translate=False;"
									},
									"InitialCatalog": {
										"value": "currents"
									},
									"Password": {
										"value": {
											"type": "AzureKeyVaultSecret",
											"store": {
												"referenceName": "AzureKeyVault",
												"type": "LinkedServiceReference"
											},
											"secretName": "SSIS-currents-Password"
										}
									},
									"RetainSameConnection": {
										"value": "False"
									},
									"ServerName": {
										"value": "aiasqlmisvr01.a1e189469806.database.windows.net"
									},
									"UserName": {
										"value": "boor"
									}
								},
								"currents_OLEDB": {
									"ConnectByProxy": {
										"value": "False"
									},
									"ConnectUsingManagedIdentity": {
										"value": "False"
									},
									"ConnectionString": {
										"value": "Data Source=aiasqlmisvr01.a1e189469806.database.windows.net;User ID=boor;Initial Catalog=currents;Provider=SQLNCLI11.1;Persist Security Info=True;Auto Translate=False;"
									},
									"InitialCatalog": {
										"value": "currents"
									},
									"Password": {
										"value": {
											"type": "AzureKeyVaultSecret",
											"store": {
												"referenceName": "AzureKeyVault",
												"type": "LinkedServiceReference"
											},
											"secretName": "SSIS-currents-Password"
										}
									},
									"RetainSameConnection": {
										"value": "False"
									},
									"ServerName": {
										"value": "aiasqlmisvr01.a1e189469806.database.windows.net"
									},
									"UserName": {
										"value": "boor"
									}
								}
							}
						}
					}
				],
				"folder": {
					"name": "SSIS-Demo"
				},
				"annotations": [],
				"lastPublishTime": "2021-03-29T12:55:47Z"
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/integrationRuntimes/SSISAzureIntegrationRuntime')]",
				"[concat(variables('factoryId'), '/linkedServices/AzureKeyVault')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/Currents_SQLServer_Tables')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Currents_SQLServer",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"table": {
						"type": "string",
						"defaultValue": "users_messages_pushnotification_Bounce"
					}
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": {
						"value": "@dataset().table",
						"type": "Expression"
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/Currents_SQLServer')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/Currents_Synapse_Tables')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Currents_Synapse",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"table": {
						"type": "string",
						"defaultValue": "users_messages_pushnotification_Bounce"
					}
				},
				"annotations": [],
				"type": "AzureSqlDWTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": {
						"value": "@dataset().table",
						"type": "Expression"
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/Currents_Synapse')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/watermarktable')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "adfmetadata",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "watermarktable"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/adfmetadata')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureDatabricks')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://adb-8059003163767180.0.azuredatabricks.net",
					"accessToken": {
						"type": "AzureKeyVaultSecret",
						"store": {
							"referenceName": "AzureKeyVault",
							"type": "LinkedServiceReference"
						},
						"secretName": "adb-token"
					},
					"existingClusterId": "1116-225432-pecks336"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureKeyVault')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureFileSystemPackageStore')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFileStorage",
				"typeProperties": {
					"connectionString": "[parameters('AzureFileSystemPackageStore_connectionString')]",
					"fileShare": "ssispackagestore"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureFileSystemSSISLogs')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFileStorage",
				"typeProperties": {
					"connectionString": "[parameters('AzureFileSystemSSISLogs_connectionString')]",
					"fileShare": "ssislogs"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureKeyVault')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureKeyVault",
				"typeProperties": {
					"baseUrl": "[parameters('AzureKeyVault_properties_typeProperties_baseUrl')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Currents_SQLServer')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": {
						"type": "AzureKeyVaultSecret",
						"store": {
							"referenceName": "AzureKeyVault",
							"type": "LinkedServiceReference"
						},
						"secretName": "[parameters('Currents_SQLServer_properties_typeProperties_connectionString_secretName')]"
					}
				},
				"connectVia": {
					"referenceName": "CurrentsOnPremIntegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/integrationRuntimes/CurrentsOnPremIntegrationRuntime')]",
				"[concat(variables('factoryId'), '/linkedServices/AzureKeyVault')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/Currents_Synapse')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDW",
				"typeProperties": {
					"connectionString": {
						"type": "AzureKeyVaultSecret",
						"store": {
							"referenceName": "AzureKeyVault",
							"type": "LinkedServiceReference"
						},
						"secretName": "[parameters('Currents_Synapse_properties_typeProperties_connectionString_secretName')]"
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureKeyVault')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/FileSystemPackageStore')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "FileServer",
				"typeProperties": {
					"host": "[parameters('FileSystemPackageStore_properties_typeProperties_host')]",
					"userId": "[parameters('FileSystemPackageStore_properties_typeProperties_userId')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('FileSystemPackageStore_password')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Synapse_AzureBlobStorage')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Blob Storage account related to storing Synapse related metadata",
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('Synapse_AzureBlobStorage_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/adfmetadata')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": {
						"type": "AzureKeyVaultSecret",
						"store": {
							"referenceName": "AzureKeyVault",
							"type": "LinkedServiceReference"
						},
						"secretName": "[parameters('adfmetadata_properties_typeProperties_connectionString_secretName')]"
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureKeyVault')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/CurrentsOnPremIntegrationRuntime')]",
			"type": "Microsoft.DataFactory/factories/integrationRuntimes",
			"apiVersion": "2018-06-01",
			"properties": {
				"type": "SelfHosted",
				"typeProperties": {}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SSISAzureIntegrationRuntime')]",
			"type": "Microsoft.DataFactory/factories/integrationRuntimes",
			"apiVersion": "2018-06-01",
			"properties": {
				"type": "Managed",
				"typeProperties": {
					"computeProperties": {
						"location": "East US",
						"nodeSize": "Standard_D1_v2",
						"numberOfNodes": 1,
						"maxParallelExecutionsPerNode": 1,
						"vNetProperties": {
							"vNetId": "/subscriptions/ce859648-30e1-4135-9d0f-8358aebfe789/resourceGroups/aia-sqlinsights-rg/providers/Microsoft.Network/virtualNetworks/aiatelegrafvnet",
							"subnet": "ADF_IR_subnet"
						}
					},
					"ssisProperties": {
						"catalogInfo": {
							"catalogServerEndpoint": "[parameters('SSISAzureIntegrationRuntime_properties_typeProperties_ssisProperties_catalogInfo_catalogServerEndpoint')]",
							"catalogAdminUserName": "[parameters('SSISAzureIntegrationRuntime_properties_typeProperties_ssisProperties_catalogInfo_catalogAdminUserName')]",
							"catalogAdminPassword": {
								"type": "SecureString",
								"value": "[parameters('SSISAzureIntegrationRuntime_properties_typeProperties_ssisProperties_catalogInfo_catalogAdminPassword')]"
							},
							"catalogPricingTier": null
						},
						"edition": "Standard",
						"licenseType": "BasePrice",
						"packageStores": [
							{
								"name": "myAzureFilesPackageStore",
								"packageStoreLinkedService": {
									"referenceName": "AzureFileSystemPackageStore",
									"type": "LinkedServiceReference"
								}
							},
							{
								"name": "myFileSystemPackageStore",
								"packageStoreLinkedService": {
									"referenceName": "FileSystemPackageStore",
									"type": "LinkedServiceReference"
								}
							}
						]
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureFileSystemPackageStore')]",
				"[concat(variables('factoryId'), '/linkedServices/FileSystemPackageStore')]"
			]
		}
	]
}